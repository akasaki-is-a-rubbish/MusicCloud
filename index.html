<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Music Cloud</title>
    <!-- Preload style and script -->
    <style>
        * {
            box-sizing: border-box;
        }

        #preload-overlay {
            position: fixed;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            text-align: center;
            background: white;
            color: black;
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .dark #preload-overlay {
            background: black;
            color: #ccc;
        }

        #preload-overlay h1 {
            margin: 10px 5px;
        }

        #preload-overlay p {
            margin: 10px 5px;
        }
    </style>
    <script>
        (function () {
            var preload = window.preload = {
                domLoaded: false,
                cssLoaded: false,
                jsLoaded: false,
                jsError: false,
                cssOk() {
                    this.cssLoaded = true;
                    this.update();
                },
                jsOk() {
                    this.jsLoaded = true
                    this.update();
                },
                onJsLoad() {
                    if (!this.jsLoaded) {
                        console.error('js loaded without calling callback');
                        this.jsError = true;
                        this.update();
                    }
                },
                update() {
                    if (!this.domLoaded) return;
                    document.getElementById('css-ok').hidden = !preload.cssLoaded;
                    document.getElementById('js-ok').hidden = !preload.jsLoaded;
                    document.getElementById('js-error').hidden = !preload.jsError;
                    if (this.cssLoaded && this.jsLoaded) this.end();
                },
                end() {
                    app.ui.endPreload();
                    window.removeEventListener('error', onerror);
                    delete window.preload;
                }
            };
            window.addEventListener('DOMContentLoaded', function () {
                preload.domLoaded = true;
                preload.update();
                if (localStorage.getItem('mcloud-theme') === 'dark') {
                    document.body.classList.add('dark');
                }
            });
            var onerror = function () {
                preload.jsError = true;
                preload.update();
            };
            window.addEventListener('error', onerror);
        })();
    </script>
    <!-- End of preload style and script -->
    <link rel="stylesheet" href="style.css" media="print" onload="this.media='all'; preload.cssOk(); this.onload = null;">
    <script src="bundle.js" onload="window.preload && preload.onJsLoad()" defer async></script>
</head>

<body>
    <div id="main-container" class="no-transition">
        <nav id="sidebar" class="no-selection">
            <div id="sidebar-login">
            </div>
            <div id="sidebar-features">
            </div>
            <div id="sidebar-list">
            </div>
        </nav>
        <main id="content-outer">
        </main>
    </div>
    <div id="bottombar">
        <div id="progress-outer">
            <div class="no-selection" id="progressbar-label-cur">--:--</div>
            <div class="no-selection" id="progressbar-label-total">--:--</div>
        </div>
        <div class="btn-progress" id="progressbar">
            <div class="btn-fill" id="progressbar-fill"></div>
        </div>
        <div id="bottombar-btns" class="flexbox-h">
            <div id="btn-play" class="btn i18ne">Play</div>
            <div class="btn i18ne" onclick="app.playerCore.prev()">prev_track</div>
            <div class="btn i18ne" onclick="app.playerCore.next()">next_track</div>
            <div id="btn-volume" class="btn"></div>
            <div id="btn-loop" class="btn" hidden></div>
            <div id="bottombar-trackinfo" class="flex-1"></div>
            <div class="btn i18ne" id="btnPin">Pin</div>
        </div>
    </div>
    <div id="preload-overlay" lang="en">
        <h1>MusicCloud</h1>
        <div style="min-height: 6em;">
            <p>Loading...</p>
            <p hidden style="color: gray;" id="css-ok">CSS OK</p>
            <p hidden style="color: gray;" id="js-ok">JavaScript OK</p>
            <p hidden style="color: red;" id="js-error">JavaScript Error</p>
        </div>
    </div>
</body>

</html>